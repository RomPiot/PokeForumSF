document.addEventListener("DOMContentLoaded",(function(){let onHunt=!1;const body=document.querySelector("body"),userId=body.getAttribute("data-userid"),cursorPokeball=document.querySelector("#cursor-pokeball"),huntBtn=document.querySelector("a.hunt-btn"),pokemon=document.querySelector("a.pokemon"),pokemonImage=document.querySelector("img.pokemon-image");let pokemonData;function makeNewPosition(){var h=$(window).height()-50,w=$(window).width()-50,nh,nw;return[Math.floor(Math.random()*h),Math.floor(Math.random()*w)]}function movePokemon(myclass,difficulty){var newq=makeNewPosition();duration=1e4/(.5*difficulty),$(myclass).animate({top:newq[0],left:newq[1]},duration,(function(){movePokemon(myclass,difficulty)}))}document.addEventListener("mousemove",(function(event){let x=event.clientX,y=event.clientY;cursorPokeball.style.left=x+"px",cursorPokeball.style.top=y+"px"})),huntBtn.addEventListener("click",(function(event){event.preventDefault(),body.style.cursor="none",cursorPokeball.classList.remove("display-none");const url=this.href;onHunt=!0,axios.post(url,{user_id:userId}).then((function(response){$(".pokeball-container").children().last().remove(),pokemonData=JSON.parse(response.data.content),console.log(pokemonData);let idPokemon=pokemonData.idPokemon;pokemonImage.setAttribute("src","/images/pokemons/"+pokemonData.idPokemon+".png"),pokemon.setAttribute("data-id",pokemonData.idPokemon),$(".pokemon-main-container").fadeIn("0.5"),movePokemon(".pokemon",pokemonData.difficulty)}))})),document.addEventListener("click",(function(event){if(1==onHunt){if(event.target.classList.contains("pokemon-image")){event.preventDefault();const url=pokemon.getAttribute("href");console.log(pokemon.getAttribute("data-id")),axios.post(url,{user_id:userId,pokemon_id:pokemon.getAttribute("data-id")}).then((function(response){console.log(response)}))}event.target.classList.contains("hunt-btn")||(onHunt=!1,$(".pokemon-main-container").fadeOut("0.5"),body.style.cursor="inherit",cursorPokeball.classList.add("display-none"))}}))}));