{% extends 'base.html.twig' %}

{% block title %}Hello TopicController!
{% endblock %}

{% block content %}

	<div id="pokemonLogoContainer">

		<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/International_Pok%C3%A9mon_logo.svg/1024px-International_Pok%C3%A9mon_logo.svg.png" alt="">

	</div>
	<div id="titreAndContent">
		<div class="d-flex justify-content-between align-items-center">
			<h1>{{ topic.title }}</h1>

			{% if topic.author == app.user %}			
			<div>
				<a href="{{ path('topic_edit', {'id' : topic.id}) }}">Editer</a>
				<a href="{{ path('topic_remove', {'id' : topic.id}) }}">Supprimer</a>
			</div>
			{% endif %}

		</div>
		<p>{{ topic.content }}</p>
	</div>

	{% for comment in comments %}
		<div class="comment">

			{% for user in users %}
				{% if comment.author.id == user.id %}

					<img class="avatar" src="{{ user.avatar }}" alt="">
					<div class="leftSideComment">
						<div class="usernameAndDate">
							<p class="username">
								<strong>
									{{ user.username | capitalize  }}
								</strong>
								&nbsp;
							</p>
							<p class="date">
								{{  comment.createdat |date("F jS \\a\\t g:ia", "Europe/Paris")}}
							</p>
						</div>
					{% endif %}
				{% endfor %}
				<p class="commentContent">
					{{ comment.content }}
				</p>

			</div>
		</div>
	{% endfor %}

	{% if topic.isActive == true and commentForm is defined %}
		{{ form(commentForm) }}
	{% endif %}


		<style>

			.avatar {
				border-radius: 100%;
				width: 80px;
				margin: 5px;
			}
			.comment {
				display: flex;
				padding-bottom: 15px;
				padding-top: 15px;
				border-bottom: 1px solid #cbd3da;
				border-top: 1px solid #cbd3da;
			}

			.username {
				height: 20px;
			}

			.leftSideComment {
				display: flex;
				flex-wrap: wrap;
				flex-direction: column;
			}
			.commentContent {
				padding: 0 15px 15px;

			}
			.usernameAndDate {
				display: flex;
			}

			#pokemonLogoContainer {
				display: flex;
				justify-content: center;
				align-items: center;
				background-color: #343a40;
				border-radius: 15px;
				margin-top: 15px;

			}

			#pokemonLogoContainer > img {
				width: 60%;
			}

			#titreAndContent {
				background-color: #3363af;
				border-radius: 15px;
				padding: 15px;
				margin-top: 15px;
				color: white;
				width: 100%;
			}
		</style>

	{% endblock %}
